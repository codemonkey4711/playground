<html>

<script type="text/javascript">
//<![CDATA[

var last;

function init() {
	document.getElementById("myInput").value = Math.floor(Math.random() * 9) + 1 ;
	last = 0;
	console.log("unsichtbar: " + last);
}

document.onkeyup  = function(event) {
	var c = Number(event.key);
	if(c >= 0 && c <= 9) {
		doIt(c);
	}
};

function doIt(input) {
	input = Number(input);
	var display = document.getElementById("myInput");
	var displayNumber = Number(display.value);
	var result = ((last + displayNumber) % 10 );
	console.log("input: " + input);
	console.log(last + " + " + displayNumber + " = " + (last + displayNumber));
	if(result == input) {
		document.getElementById("bg").style.backgroundColor = "green";
		last = displayNumber;
		display.value = Number(Math.floor(Math.random() * 9) + 1);
		console.log("correct, new hidden value: " + last);
	} else {
		console.log("invalid, set hidden value to 0");
		document.getElementById("bg").style.backgroundColor = "red";
		init();
	}
	
}

//]]>
</script>

<head>
<title>Trainer</title>
</head>
<body id="bg" bgcolor="white" onload="init();">

<FORM NAME="Calc">
<TABLE BORDER=1>
<TR>
<TD>

<INPUT TYPE="text" id="myInput"  NAME="Input" Size="9" style="font-size: 30">
<br>
</TD>
</TR>
<TR>
<TD>
<INPUT TYPE="button" VALUE="  7  " OnClick="doIt('7');" style="font-size: 30">
<INPUT TYPE="button" VALUE="  8  " OnCLick="doIt('8');" style="font-size: 30">
<INPUT TYPE="button" VALUE="  9  " OnClick="doIt('9');" style="font-size: 30">
<br>
<INPUT TYPE="button" VALUE="  4  " OnClick="doIt('4');" style="font-size: 30">
<INPUT TYPE="button" VALUE="  5  " OnCLick="doIt('5');" style="font-size: 30">
<INPUT TYPE="button" VALUE="  6  " OnClick="doIt('6');" style="font-size: 30">
<br>
<INPUT TYPE="button" VALUE="  1  " OnClick="doIt('1');" style="font-size: 30">
<INPUT TYPE="button" VALUE="  2  " OnCLick="doIt('2');" style="font-size: 30">
<INPUT TYPE="button" VALUE="  3  " OnClick="doIt('3');" style="font-size: 30">
<br>

<INPUT TYPE="button" VALUE="  0  " OnClick="doIt('0');" style="font-size: 30">
<br>
</TD>
</TR>
</TABLE>
</FORM>

</html>
